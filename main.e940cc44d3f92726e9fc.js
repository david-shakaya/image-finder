(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,t,n){},HV6I:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i=e.lambda,o=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="list-item-gallery list-item">\r\n    <span class="box-overlay" id="id'+o(i(null!=t?l(t,"id"):t,t))+'" data-img-saved="'+o(i(null!=t?l(t,"largeImageURL"):t,t))+'" data-added="visible"\r\n        data-img-id="id'+o(i(null!=t?l(t,"id"):t,t))+'">\r\n        <p class="box-overlay-text">add to saved</p>\r\n    </span>\r\n    <div class=" photo-card">\r\n        <img src="'+o(i(null!=t?l(t,"webformatURL"):t,t))+'" alt="" data-large-img="'+o(i(null!=t?l(t,"largeImageURL"):t,t))+'" />\r\n        <div class="stats">\r\n            <p class="stats-item">\r\n                <i class="material-icons">thumb_up</i>\r\n                '+o(i(null!=t?l(t,"likes"):t,t))+'\r\n            </p>\r\n            <p class="stats-item">\r\n                <i class="material-icons">visibility</i>\r\n                '+o(i(null!=t?l(t,"views"):t,t))+'\r\n            </p>\r\n            <p class="stats-item">\r\n                <i class="material-icons">comment</i>\r\n                '+o(i(null!=t?l(t,"comments"):t,t))+'\r\n            </p>\r\n            <p class="stats-item">\r\n                <i class="material-icons">cloud_download</i>\r\n                '+o(i(null!=t?l(t,"downloads"):t,t))+"\r\n            </p>\r\n        </div>\r\n    </div>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:29,column:9}}}))?i:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("0HMw"),n("ZYR3");var r={body:document.querySelector("body"),searchForm:document.querySelector(".search-form"),buttonHeaderHome:document.querySelector(".button-header-home"),ulGallery:document.querySelector(".gallery"),hideSpiner:document.querySelector("#hide"),galeryTitle:document.querySelector(".galery-title"),wrapperNotFound:document.querySelector("#img-wrapper-not-found"),boxOverlayLocalStor:function(){return document.querySelectorAll(".box-overlay")},buttonHeaderSave:document.querySelector(".button-header-save"),paginationWrapper:document.querySelector(".pagination-wrapper")},a=(n("WB5j"),n("JBxO"),n("FdtR"),n("aDFv")),i=n.n(a),o=n("VYoj"),l=n.n(o);l.a.options={progressBar:!0,showDuration:"0",timeOut:"2500",showMethod:"show"};var s=n("dcBu"),c="";var d=function(e){console.log(e.target.attributes),"IMG"===e.target.nodeName&&(c=e.target.attributes[2].value,s.create('\n    <img src="'+c+'" width="800" height="600">\n').show())},u={isActiveHomePage:!1,isActiveSearchPage:!1},p=(n("IlJM"),n("lmye"),[]);function m(){window.document.addEventListener("click",g)}function g(e){if("box-overlay"===e.target.className||"box-overlay-text"===e.target.className){e.target.children[0]?e.target.children[0].textContent="added":e.target.textContent="added";var t=e.target.dataset.imgId;console.log(t);var n=e.target.dataset.added="invisible",r=e.target.dataset.imgSaved,a=0;p.length>0?p.find((function(e){if(e.id!==t){if(1===a)return;p.push({url:r,id:t,isVisible:n}),a+=1}})):(console.log("sdss"),p.push({url:r,id:t,isVisible:n})),console.log(p),localStorage.setItem("sesion",JSON.stringify(p)),e.target.classList.add("addedToSaved"),a=0}}function v(){var e=localStorage.getItem("sesion");try{if(e){var t=JSON.parse(e),n=t.length;console.log(p.length),console.log(t.length),t.find((function(e){p.length!==n&&p.push(e)})),t.map((function(e){var t=document.querySelector("#"+e.id);null===t&&(t=document.querySelector(".git-logo")),t.classList.add("addedToSaved"),t.textContent="added"}))}}catch(e){}}var h=function(){return r.ulGallery.innerHTML=""};function f(e,t){return fetch("https://pixabay.com/api/?key=14396786-a714bdf8d854f524afdc45598&image_type=photo&orientation=horizontal&q="+e+"&page="+t+"&per_page=15").then((function(e){return r.hideSpiner.classList.add("loader"),e.json()}))}var y="";function b(e){u.isActiveHomePage=!1,console.log(u.isActiveHomePage),1,f(y=e).then((function(e){r.hideSpiner.classList.remove("loader"),document.querySelector("#pagination-container").innerHTML="",0===e.hits.length?(r.galeryTitle.textContent="Not found! Please specify your request.",r.galeryTitle.classList.add("error"),r.wrapperNotFound.classList.add("img-wrapper-not-found")):(r.galeryTitle.classList.remove("error"),r.galeryTitle.textContent=e.totalHits+" images found",r.wrapperNotFound.classList.remove("img-wrapper-not-found"));var t=i()(e.hits);r.ulGallery.insertAdjacentHTML("beforeend",t),document.querySelector(".gallery").addEventListener("click",d),function(e){var t=$(".list-wrapper .list-item");t.length;t.slice(15).hide(),$("#pagination-container").pagination({items:""+e.totalHits,itemsOnPage:15,edges:1,prevText:"&laquo;",nextText:"&raquo;",cssStyle:"light-theme",onPageClick:function(e){f(y,e).then((function(e){r.hideSpiner.classList.remove("loader");var t=i()(e.hits);r.ulGallery.innerHTML=t,m(),v()}))}})}(e),m(),v()}))}n("v7UC");var S=n("jffb"),L=n.n(S),w=(n("RtS0"),n("3dw1"),n("HV6I")),x=n.n(w);function H(e){return fetch("https://pixabay.com/api/?key=14396786-a714bdf8d854f524afdc45598&image_type=photo&orientation=horizontal&page="+e+"&per_page=15&editors_choice=true").then((function(e){return e.json()}))}function P(e){try{if(u.isActiveHomePage)return void e.preventDefault();r.searchForm.firstElementChild.value="",r.hideSpiner.classList.add("loader"),u.isActiveHomePage=!0,1,H().then((function(e){r.hideSpiner.classList.remove("loader"),r.galeryTitle.textContent="The best photos according to the editors.",r.galeryTitle.classList.remove("error");var t=x()(e.hits);r.ulGallery.innerHTML=t,r.hideSpiner.classList.remove("loader");var n=new IntersectionObserver((function(e,t){e.forEach((function(e){console.log(e)}))}),{rootMargin:"95% ",threshold:1});console.log(document.querySelector(".list-item-gallery")),n.observe(document.querySelector(".list-item-gallery")),function(e){var t=$(".list-wrapper .list-item");t.length;t.slice(15).hide(),$("#pagination-container").pagination({items:""+e.totalHits,itemsOnPage:15,edges:1,prevText:"&laquo;",nextText:"&raquo;",cssStyle:"light-theme",onPageClick:function(e){H(e).then((function(e){var t=x()(e.hits);r.ulGallery.innerHTML=t,u.isActiveHomePage=!0,v()}))}})}(e),m(),v()})),e.preventDefault()}catch(e){}}r.buttonHeaderHome.addEventListener("click",P);var T=n("znZd"),q=n.n(T),k=[];r.hideSpiner.classList.remove("loader"),r.buttonHeaderSave.addEventListener("click",(function(e){k=[],e.preventDefault(),r.ulGallery.innerHTML="",v();document.querySelectorAll(".box-overlay ");var t=localStorage.getItem("sesion");if(t){var n=JSON.parse(t);console.log(n),n.forEach((function(e){e.url&&k.push({url:e.url,id:e.id})}))}u.isActiveHomePage=!1,r.paginationWrapper.innerHTML="",r.galeryTitle.textContent="Your saved photos";var a=q()(k);r.ulGallery.innerHTML=a}));var O=r.searchForm.firstElementChild;O.addEventListener("input",L()((function e(t){if(""===(C=t.target.value))return u.isActiveHomePage=!1,h(),O.removeEventListener("input",L()(e,500)),P(),r.hideSpiner.classList.remove("loader"),void r.buttonHeaderHome.removeEventListener("click",E);r.hideSpiner.classList.add("loader"),b(C),h(),u.isActiveHomePage||r.buttonHeaderHome.addEventListener("click",E)}),500));var C="";function E(){r.buttonHeaderHome.removeEventListener("click",E),h(),P(),u.isActiveHomePage=!0}P()},aDFv:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i=e.lambda,o=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="list-item-gallery list-item">\r\n    <span class="box-overlay" id="id'+o(i(null!=t?l(t,"id"):t,t))+'" data-img-saved="'+o(i(null!=t?l(t,"largeImageURL"):t,t))+'" data-added="visible"\r\n        data-img-id="id'+o(i(null!=t?l(t,"id"):t,t))+'">\r\n        <p class="box-overlay-text">add to saved</p>\r\n    </span>\r\n    <div class="photo-card">\r\n        <img src="'+o(i(null!=t?l(t,"webformatURL"):t,t))+'" alt="" data-large-img="'+o(i(null!=t?l(t,"largeImageURL"):t,t))+'" />\r\n        <div class="stats">\r\n            <p class="stats-item">\r\n                <i class="material-icons">thumb_up</i>\r\n                '+o(i(null!=t?l(t,"likes"):t,t))+'\r\n            </p>\r\n            <p class="stats-item">\r\n                <i class="material-icons">visibility</i>\r\n                '+o(i(null!=t?l(t,"views"):t,t))+'\r\n            </p>\r\n            <p class="stats-item">\r\n                <i class="material-icons">comment</i>\r\n                '+o(i(null!=t?l(t,"comments"):t,t))+'\r\n            </p>\r\n            <p class="stats-item">\r\n                <i class="material-icons">cloud_download</i>\r\n                '+o(i(null!=t?l(t,"downloads"):t,t))+"\r\n            </p>\r\n        </div>\r\n    </div>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:29,column:9}}}))?i:""},useData:!0})},znZd:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="list-item-gallery list-item">\r\n    <div class=" photo-card">\r\n        <img src="'+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"url")||(null!=t?o(t,"url"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"url",hash:{},data:a,loc:{start:{line:8,column:18},end:{line:8,column:25}}}):i)+'" alt="" />\r\n    </div>\r\n    </div>\r\n</li>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))?i:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.e940cc44d3f92726e9fc.js.map